import{r as a,j as e,b as j}from"./index-DFJ8RUfK.js";import{Q as g,B as N}from"./react-toastify.esm-DG0hKP4U.js";import"./clsx-B-dksMZM.js";const y=()=>{const[l,c]=a.useState(""),[o,n]=a.useState(""),[d,i]=a.useState(""),[u,m]=a.useState(null),[s,x]=a.useState({}),p=()=>{const t={};return l||(t.username="Username is required"),o||(t.productName="Product name is required"),d||(t.feedback="Feedback is required"),u||(t.image="Product image is required"),t},f=async t=>{t.preventDefault();const b=p();if(Object.keys(b).length>0){x(b);return}const r=new FormData;r.append("username",l),r.append("product_details",o),r.append("review",d),r.append("image",u);try{await j.post("http://127.0.0.1:8000/api/post-review",r,{headers:{"Content-Type":"multipart/form-data"}}),N.success("Successfully Submitted Review"),c(""),n(""),i(""),m(null),x({})}catch(h){console.error("Error submitting review",h)}};return e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsx("div",{className:"container mx-auto p-4",children:e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-2xl text-[#0494b8] font-bold mb-4",children:"Submit a Review"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium",children:"Your Name"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded-md focus:border-[#0494b8] focus:outline-[#0494b8]",value:l,onChange:t=>c(t.target.value)}),s.username&&e.jsx("p",{className:"text-red-500 text-sm",children:s.username})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium",children:"Product Details"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded-md focus:border-[#0494b8] focus:outline-[#0494b8]",value:o,onChange:t=>n(t.target.value)}),s.productName&&e.jsx("p",{className:"text-red-500 text-sm",children:s.productName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium",children:"Feedback"}),e.jsx("textarea",{className:"w-full p-2 border rounded-md focus:border-[#0494b8] focus:outline-[#0494b8]",value:d,onChange:t=>i(t.target.value)}),s.feedback&&e.jsx("p",{className:"text-red-500 text-sm",children:s.feedback})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium",children:"Product Image"}),e.jsx("input",{type:"file",className:"w-full p-2 border rounded-md focus:border-[#0494b8] focus:outline-[#0494b8]",onChange:t=>m(t.target.files[0])}),s.image&&e.jsx("p",{className:"text-red-500 text-sm",children:s.image})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"w-full p-2 bg-[#0494b8] text-white rounded-2xl",children:"Submit Review"})})]})]})})]})};export{y as default};
